<!DOCTYPE html>
<!-- saved from url=(0055)https://www.rupython.com/scipy-optimize-x43c-71919.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>  Scipy.optimize: как ограничить значения аргументов Ru Python</title>

    <link href="./Scipy.optimize_ как ограничить значения аргументов Ru Python_files/bootstrap.min.css" rel="stylesheet">
    <link href="./Scipy.optimize_ как ограничить значения аргументов Ru Python_files/custom.min.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
	  <script src="./Scipy.optimize_ как ограничить значения аргументов Ru Python_files/pubads_impl_rendering_2020012701.js.Без названия"></script><script async="" src="./Scipy.optimize_ как ограничить значения аргументов Ru Python_files/gpt.js.Без названия"></script>
<script>
  window.googletag = window.googletag || {cmd: []};
  googletag.cmd.push(function() {
    googletag.defineSlot('/21669498964/wph-jy/zsy-02-rupython-wph-jy', ['fluid'], 'div-gpt-ad-1567074706077-0').addService(googletag.pubads());
    googletag.pubads().enableSingleRequest();
    googletag.enableServices();
  });
</script><link rel="preload" href="./Scipy.optimize_ как ограничить значения аргументов Ru Python_files/f.txt" as="script"><script type="text/javascript" src="./Scipy.optimize_ как ограничить значения аргументов Ru Python_files/f.txt"></script><link rel="preload" href="./Scipy.optimize_ как ограничить значения аргументов Ru Python_files/f(1).txt" as="script"><script type="text/javascript" src="./Scipy.optimize_ как ограничить значения аргументов Ru Python_files/f(1).txt"></script><script src="./Scipy.optimize_ как ограничить значения аргументов Ru Python_files/pubads_impl_2020012701.js.Без названия" async=""></script>
<script>
  window.googletag = window.googletag || {cmd: []};
  googletag.cmd.push(function() {
    googletag.defineSlot('/21669498964/wph-jy/zsy-01-rupython-wph-jy', ['fluid'], 'div-gpt-ad-1567074790252-0').addService(googletag.pubads());
    googletag.pubads().enableSingleRequest();
    googletag.enableServices();
  });
</script>
<script>
  window.googletag = window.googletag || {cmd: []};
  googletag.cmd.push(function() {
    googletag.defineSlot('/21669498964/wph-jy/336x280-01-rupython-jy-wph', [336, 280], 'div-gpt-ad-1567078695349-0').addService(googletag.pubads());
    googletag.pubads().enableSingleRequest();
    googletag.enableServices();
  });
</script>
<script>
  window.googletag = window.googletag || {cmd: []};
  googletag.cmd.push(function() {
    googletag.defineSlot('/21669498964/wph-jy/300x250-01-rupython-jy-wph', [300, 250], 'div-gpt-ad-1567155448111-0').addService(googletag.pubads());
    googletag.pubads().enableSingleRequest();
    googletag.enableServices();
  });
</script>
<script>
  window.googletag = window.googletag || {cmd: []};
  googletag.cmd.push(function() {
    googletag.defineSlot('/21669498964/wph-jy/300x600-01-rupython-wph-jy', [300, 600], 'div-gpt-ad-1567156079328-0').addService(googletag.pubads());
    googletag.pubads().enableSingleRequest();
    googletag.enableServices();
  });
</script>
<script>
  window.googletag = window.googletag || {cmd: []};
  googletag.cmd.push(function() {
    googletag.defineSlot('/21669498964/wph-jy/970x90-01-rupython-jy-wph', [970, 90], 'div-gpt-ad-1567156972160-0').addService(googletag.pubads());
    googletag.pubads().enableSingleRequest();
    googletag.enableServices();
  });
</script>
<script>
  window.googletag = window.googletag || {cmd: []};
  googletag.cmd.push(function() {
    googletag.defineSlot('/21669498964/wph-jy/728x90-01-rupython-jy-wph', [728, 90], 'div-gpt-ad-1567158138866-0').addService(googletag.pubads());
    googletag.pubads().enableSingleRequest();
    googletag.enableServices();
  });
</script>

  <link rel="prefetch" href="https://tpc.googlesyndication.com/safeframe/1-0-37/html/container.html"></head>
<body>
    <nav class="navbar navbar-default ">
      <div class="container">
        <div class="navbar-header">
          <a href="https://www.rupython.com/" class="navbar-brand">Ru Python</a>
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="navbar-collapse collapse" id="navbar-main">

          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://www.rupython.com/" target="_blank">Contact</a></li>
            <li><a href="https://www.rupython.com/" target="_blank">Advertising</a></li>
          </ul>

        </div>
      </div>
    </nav>	
<div class="container">

<br>
<!-- /21669498964/wph-jy/970x90-01-rupython-jy-wph -->
<div id="div-gpt-ad-1567156972160-0" style="width: 970px; height: 90px;">
  <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1567156972160-0'); });
  </script><div id="google_ads_iframe_/21669498964/wph-jy/970x90-01-rupython-jy-wph_0__container__" style="border: 0pt none; width: 970px; height: 90px;"></div>
</div>
	  <ul class="breadcrumb">
<li class="h"><a href="https://www.rupython.com/">Ru Python</a></li>
<li><span class="btn btn-default btn-xs"><a href="https://www.rupython.com/python/python" rel="tag">python</a></span>&nbsp;<span class="btn btn-default btn-xs"><a href="https://www.rupython.com/python/scipy" rel="tag">scipy</a></span></li>
<li>Scipy.optimize: как ограничить значения аргументов</li>
</ul>



<div class="row">
<div class="col-md-8 article-content">
	   <a href="https://www.rupython.com/scipy-optimize-x43c-71919.html" title="Scipy.optimize: как ограничить значения аргументов"><h1 class="text-uppercase list-group-item-heading">Scipy.optimize: как ограничить значения аргументов</h1></a>
  
<p> Я пытаюсь использовать функции <code><a href="https://www.rupython.com/python/scipy" title="Topics of scipy" target="_blank">scipy</a>.optimize</code> чтобы найти глобальный минимум сложной функции с несколькими аргументами.  <code>scipy.optimize.minimize</code> похоже, лучше всего выполняет свою работу, а именно метод «Nelder-Mead».  Тем не менее, он, как правило, переходит в области из области аргументов (для назначения отрицательных значений аргументам, которые могут быть только положительными) и, таким образом, возвращает ошибку в таких случаях.  Есть ли способ ограничить границы аргументов <strong>внутри самой функции <code>scipy.optimize.minimize</code></strong> ?  Или, может быть, в других <code>scipy.optimize</code> ? </p><div class="row"><div class="float-left col-md-6"><!-- /21669498964/wph-jy/336x280-01-rupython-jy-wph -->
<div id="div-gpt-ad-1567078695349-0" style="width: 336px; height: 280px;">
  <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1567078695349-0'); });
  </script><div id="google_ads_iframe_/21669498964/wph-jy/336x280-01-rupython-jy-wph_0__container__" style="border: 0pt none; width: 336px; height: 280px;"></div>
</div></div><div class="float-left col-md-6"><!-- /21669498964/wph-jy/zsy-02-rupython-wph-jy -->
<div id="div-gpt-ad-1567074706077-0">
  <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1567074706077-0'); });
  </script><div id="google_ads_iframe_/21669498964/wph-jy/zsy-02-rupython-wph-jy_0__container__" style="border: 0pt none; width: 100%; height: 0%;"></div>
</div></div></div>
<p>  Я нашел следующий совет: </p><ul><li><a href="https://www.rupython.com/86588-86588.html" rel="bookmark" title="Интерполируйте каждую строку в матрице значений x">Интерполируйте каждую строку в матрице значений x</a></li><li><a href="https://www.rupython.com/76172-76172.html" rel="bookmark" title="Пуассоновский доверительный интервал с numpy">Пуассоновский доверительный интервал с numpy</a></li><li><a href="https://www.rupython.com/scipy-numpy-pip-5276.html" rel="bookmark" title="Установка SciPy и NumPy с помощью pip">Установка SciPy и NumPy с помощью pip</a></li><li><a href="https://www.rupython.com/python-scipy-delaunay-33314.html" rel="bookmark" title="python scipy Delaunay графическое отображение облака">python scipy Delaunay графическое отображение облака</a></li><li><a href="https://www.rupython.com/35365-35365.html" rel="bookmark" title="Использование радиальных базовых функций для интерполяции функции на сфере">Использование радиальных базовых функций для интерполяции функции на сфере</a></li></ul>
<blockquote>
<p>  Когда параметры выпадают из допустимого диапазона, возвращайте огромное количество (вдали от данных, которые нужно установить).  Это будет (надеюсь) наказывать этот выбор параметров настолько, что <code>curve_fit</code> будет рассчитывать на какой-либо другой допустимый набор параметров как оптимальный. </p>
</blockquote>
<p>  приведенный в этом предыдущем ответе , но в моем случае процедура займет много вычислительного времени. </p><!-- /21669498964/wph-jy/zsy-01-rupython-wph-jy -->
<div id="div-gpt-ad-1567074790252-0">
  <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1567074790252-0'); });
  </script><div id="google_ads_iframe_/21669498964/wph-jy/zsy-01-rupython-wph-jy_0__container__" style="border: 0pt none; width: 100%; height: 0%;"></div>
</div>
<div class="row">
			<div class="col-md-5">
		<!-- /21669498964/wph-jy/300x250-01-rupython-jy-wph -->
<div id="div-gpt-ad-1567155448111-0" style="width: 300px; height: 250px;">
  <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1567155448111-0'); });
  </script><div id="google_ads_iframe_/21669498964/wph-jy/300x250-01-rupython-jy-wph_0__container__" style="border: 0pt none; width: 300px; height: 250px;"></div>
</div>
			</div>
			<div class="col-md-7">
				<ul><li><a href="https://www.rupython.com/96566-96566.html" rel="bookmark" title="Добавление новых слов в текстовый указатель в scikit-learn">Добавление новых слов в текстовый указатель в scikit-learn</a></li><li><a href="https://www.rupython.com/x43e-521-89739.html" rel="bookmark" title="Ближайшие соседи в Питоне с учетом матрицы расстояния">Ближайшие соседи в Питоне с учетом матрицы расстояния</a></li><li><a href="https://www.rupython.com/20355-20355.html" rel="bookmark" title="Оценка области изображения, созданного набором точек (Альфа-фигуры?)">Оценка области изображения, созданного набором точек (Альфа-фигуры?)</a></li><li><a href="https://www.rupython.com/pandas-dataframe-attributeerror-dataframe-69698.html" rel="bookmark" title="Pandas Dataframe AttributeError: объект DataFrame не имеет атрибута &#39;design_info&#39;">Pandas Dataframe AttributeError: объект DataFrame не имеет атрибута 'design_info'</a></li><li><a href="https://www.rupython.com/ssd-numpy-scipy-75034.html" rel="bookmark" title="Сумма квадратных разностей (SSD) в numpy / scipy">Сумма квадратных разностей (SSD) в numpy / scipy</a></li></ul>			</div>
		</div>
<div class="list-group">
	



<!-- You can start editing here. -->


  <h3 id="comments">
		4 Solutions collect form web for “Scipy.optimize: как ограничить значения аргументов”	</h3>

	<div class="list-group-item list-group-item-action flex-column align-items-start">
		      	<p>  Решатель Nelder-Mead не поддерживает ограниченную оптимизацию, но есть и другие. </p>
<p>  TNC и L-BFGS-B поддерживают только связанные ограничения (например, <code>x[0] &gt;= 0</code> ), что должно быть хорошо для вашего случая.  COBYLA и SLSQP более гибкие, поддерживая любую комбинацию ограничений, ограничений равенства и неравенства. </p>
<p>  Более подробную информацию о решателях вы можете найти, просмотрев документы для автономных функций, например <code>scipy.optimize.fmin_slsqp</code> для <code>method='SLSQP'</code> . </p>
<p>  Вы можете увидеть мой предыдущий ответ здесь для примера ограниченной оптимизации с использованием SLSQP. </p>
</div>
<!-- #comment-## -->
<div class="list-group-item list-group-item-action flex-column align-items-start">
		      	<p>  Функция <code>minimize</code> имеет параметр <code>bounds</code> который может использоваться для ограничения границ для каждой переменной при использовании методов L-BFGS-B, TNC, COBYLA или SLSQP. </p>
<p>  Например, </p>
<pre> <code>import scipy.optimize as optimize fun = lambda x: (x[0] - 1)**2 + (x[1] - 2.5)**2 res = optimize.minimize(fun, (2, 0), method='TNC', tol=1e-10) print(res.x) # [ 1. 2.49999999] bnds = ((0.25, 0.75), (0, 2.0)) res = optimize.minimize(fun, (2, 0), method='TNC', bounds=bnds, tol=1e-10) print(res.x) # [ 0.75 2. ]</code> </pre>
</div>
<!-- #comment-## -->
<div class="list-group-item list-group-item-action flex-column align-items-start">
		      	<p>  Я знаю, что это поздно в игре, но, возможно, взгляните на <code>mystic</code> .  Вы можете применять произвольные функции python как функции штрафа или применять ограничения ограничений и т. Д. На любом оптимизаторе (включая алгоритм из <code>scipy.optimize.fmin</code> ). </p>
<p>  <a href="https://github.com/uqfoundation/mystic" rel="nofollow">https://github.com/uqfoundation/mystic</a> </p>
</div>
<!-- #comment-## -->
<div class="list-group-item list-group-item-action flex-column align-items-start">
		      	<p>  Аргумент, который вы ищете, – это <code>constraints</code> которые являются одним из аргументов, переданных <code>scipy.minimize</code> .  Сверните свою собственную лямбда-функцию, которая получает параметры для ограничения: </p>
<pre> <code>#A function to define the space where scipy.minimize should #confine its search: def apply_sum_constraint(inputs): #return value must come back as 0 to be accepted #if return value is anything other than 0 it's rejected #as not a valid answer. total = 50.0 - np.sum(inputs) return total my_constraints = ({'type': 'eq', "fun": apply_sum_constraint }) result = spo.minimize(f, guess, method='SLSQP', args=(a, b, c), bounds=((-1.0, 1.0), (-1.0, 1.0)), options={'disp': True}, constraints=my_constraints)</code> </pre>
<p>  В приведенном выше примере утверждается, что все новые кандидаты в окрестности последнего найденного элемента лучше добавляют до 50. Измените этот метод, чтобы определить допустимое пространство поиска, а функция scipy.minimize не будет тратить никакой энергии, учитывая эти ответы. </p>
</div>
<!-- #comment-## -->

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>
 
<ul class="pager">
  <li class="previous"><a href="https://www.rupython.com/python-5641-71918.html" rel="prev">Подсказка типа Python без циклического импорта</a></li>
  <li class="next"><a href="https://www.rupython.com/api-python-__init__-py-71920.html" rel="next">API пакета в python.  В __init__.py?</a></li>
</ul>
	<!-- /21669498964/wph-jy/728x90-01-rupython-jy-wph -->
<div id="div-gpt-ad-1567158138866-0" style="width: 728px; height: 90px;">
  <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1567158138866-0'); });
  </script><div id="google_ads_iframe_/21669498964/wph-jy/728x90-01-rupython-jy-wph_0__container__" style="border: 0pt none; width: 728px; height: 90px;"></div>
</div>
	<li><a href="https://www.rupython.com/scipy-install-with-pip-virtualenv-68832.html" rel="bookmark" title="scipy install with pip и virtualenv заканчивается с ошибкой и статусом выхода g ++ 4">scipy install with pip и virtualenv заканчивается с ошибкой и статусом выхода g ++ 4</a></li><li><a href="https://www.rupython.com/tile-csr_matrix-x4-52316.html" rel="bookmark" title="tile для создания csr_matrix из одной строки другой csr_matrix">tile для создания csr_matrix из одной строки другой csr_matrix</a></li><li><a href="https://www.rupython.com/python-anano-local_dot_to_dot22-52228.html" rel="bookmark" title="python anano Ошибка оптимизации из-за: local_dot_to_dot22">python anano Ошибка оптимизации из-за: local_dot_to_dot22</a></li><li><a href="https://www.rupython.com/scipys-io-26452.html" rel="bookmark" title="Невозможно импортировать scipy&#39;s io">Невозможно импортировать scipy's io</a></li><li><a href="https://www.rupython.com/kurtosis-x43-101948.html" rel="bookmark" title="Почему моя функция Kurtosis не производит тот же результат, что и scipy.stats.kurtosis?">Почему моя функция Kurtosis не производит тот же результат, что и scipy.stats.kurtosis?</a></li><li><a href="https://www.rupython.com/74577-74577.html" rel="bookmark" title="Как распараллеливать разреженное матричное умножение Scipy">Как распараллеливать разреженное матричное умножение Scipy</a></li><li><a href="https://www.rupython.com/9397-9397.html" rel="bookmark" title="подгонка экспоненциального распада без первоначального угадывания">подгонка экспоненциального распада без первоначального угадывания</a></li><li><a href="https://www.rupython.com/scipy-linregress-x44-89315.html" rel="bookmark" title="Функция scipy linregress ошибочно возвращает стандартную ошибку?">Функция scipy linregress ошибочно возвращает стандартную ошибку?</a></li></div>
     		
</div>

<div class="col-md-4">
     
<div class="input-group">
      <input type="text" class="form-control" placeholder="Search for...">
      <span class="input-group-btn">
        <button class="btn btn-default" type="button">Go!</button>
      </span>
</div>
<!-- /21669498964/wph-jy/300x600-01-rupython-wph-jy -->
<div id="div-gpt-ad-1567156079328-0" style="width: 300px; height: 600px;">
  <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1567156079328-0'); });
  </script><div id="google_ads_iframe_/21669498964/wph-jy/300x600-01-rupython-wph-jy_0__container__" style="border: 0pt none; width: 300px; height: 600px;"></div>
</div>

<div class="panel panel-default">
 &nbsp;<div class="panel-heading">Interesting Posts for Van-Lav</div>

<div class="list-group">
<a href="https://www.rupython.com/url-64-81242.html" class="list-group-item"><h4 class="list-group-item-heading">Необязательные URL-адреса</h4></a>

<a href="https://www.rupython.com/pygame-93-79428.html" class="list-group-item"><h4 class="list-group-item-heading">круг pygame не меняется</h4></a>

<a href="https://www.rupython.com/python-c-54-73488.html" class="list-group-item"><h4 class="list-group-item-heading">Передача списка через Python на C ++</h4></a>

<a href="https://www.rupython.com/popen-popen-stdin-write-59266.html" class="list-group-item"><h4 class="list-group-item-heading">Popen общается против Popen stdin.write ()</h4></a>

<a href="https://www.rupython.com/django-50-5543.html" class="list-group-item"><h4 class="list-group-item-heading">Django обратный поиск внешних ключей</h4></a>

<a href="https://www.rupython.com/39686-39686.html" class="list-group-item"><h4 class="list-group-item-heading">Как предотвратить завершение запущенной программы с помощью «ctrl + c» в Linux с помощью python?</h4></a>

<a href="https://www.rupython.com/4x4-60118.html" class="list-group-item"><h4 class="list-group-item-heading">шифр превышает сетку 4X4 и выводит неверный шифр</h4></a>

<a href="https://www.rupython.com/python-2284-24779.html" class="list-group-item"><h4 class="list-group-item-heading">Python для петель (новичок)</h4></a>

<a href="https://www.rupython.com/x43e-314-53750.html" class="list-group-item"><h4 class="list-group-item-heading">Данные в реальном времени с флягой?</h4></a>

<a href="https://www.rupython.com/csv-transpose-pandas-40500.html" class="list-group-item"><h4 class="list-group-item-heading">Прочитать CSV Transpose pandas</h4></a>

<a href="https://www.rupython.com/39938-39938.html" class="list-group-item"><h4 class="list-group-item-heading">Редактор кода, поддерживающий межъязыковые (c) теги между C и python</h4></a>

<a href="https://www.rupython.com/x438-110-27893.html" class="list-group-item"><h4 class="list-group-item-heading">Функция: чтение файла и добавление нескольких элементов в словарь</h4></a>

<a href="https://www.rupython.com/pandas-x441-4-83733.html" class="list-group-item"><h4 class="list-group-item-heading">pandas: выбор массива индексных меток с .loc</h4></a>

<a href="https://www.rupython.com/100827-100827.html" class="list-group-item"><h4 class="list-group-item-heading">Как сделать цвет из числа</h4></a>

<a href="https://www.rupython.com/google-app-engine-go-vs-python-67332.html" class="list-group-item"><h4 class="list-group-item-heading">Рекомендации Google App Engine – Go vs. Python?</h4></a>


</div>

</div>



</div>
</div>

<div class="alert alert-dismissible alert-info">
  <strong>Python</strong> - лучший язык программирования в мире.
</div>
<footer>
        <div class="row">
          <div class="col-lg-12">

            <ul class="list-unstyled">
              <li class="pull-right"><a href="https://www.rupython.com/scipy-optimize-x43c-71919.html#top">Back to top</a></li>
              <li><a href="https://www.rupython.com/">Ru Python</a></li>
              <li><a href="https://www.rupython.com/contact/">Contact</a></li>
              <li><a href="https://www.rupython.com/advertising/">Advertising Here</a></li>
            </ul>
            <p>Copyright © Ru Python - All Rights Reserved.</p>

          </div>
        </div>

      </footer>


    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="./Scipy.optimize_ как ограничить значения аргументов Ru Python_files/jquery.min.js.Без названия"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="./Scipy.optimize_ как ограничить значения аргументов Ru Python_files/bootstrap.min.js.Без названия"></script>
  
<script type="text/javascript">
var sc_project=11469238; 
var sc_invisible=1; 
var sc_security="2cda1ca3"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script><script type="text/javascript" src="./Scipy.optimize_ как ограничить значения аргументов Ru Python_files/counter.js.Без названия"></script>
<noscript><div class="statcounter"><a title="Web Analytics
Made Easy - StatCounter" href="http://statcounter.com/"
target="_blank"><img class="statcounter"
src="//c.statcounter.com/11469238/0/2cda1ca3/1/" alt="Web
Analytics Made Easy - StatCounter"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
</body><!-- Start of StatCounter Code for Default Guide --></html>